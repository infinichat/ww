(()=>{"use strict";var e={891:function(e,t,n){var o=this&&this.__assign||function(){return o=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},o.apply(this,arguments)},a=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(a,r){function i(e){try{l(o.next(e))}catch(e){r(e)}}function c(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,c)}l((o=o.apply(e,t||[])).next())}))},r=this&&this.__generator||function(e,t){var n,o,a,r,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(c){return function(l){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;r&&(r=0,c[0]&&(i=0)),i;)try{if(n=1,o&&(a=2&c[0]?o.return:c[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,c[1])).done)return a;switch(o=0,a&&(c=[2&c[0],a.value]),c[0]){case 0:case 1:a=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,o=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==c[0]&&2!==c[0])){i=0;continue}if(3===c[0]&&(!a||c[1]>a[0]&&c[1]<a[3])){i.label=c[1];break}if(6===c[0]&&i.label<a[1]){i.label=a[1],a=c;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(c);break}a[2]&&i.ops.pop(),i.trys.pop();continue}c=t.call(e,i)}catch(e){c=[6,e],o=0}finally{n=a=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.customizeOptionsButtons=t.customizeChatbotInit=t.customizeChatbot=t.customizeElement=t.setStyle=t.updateOptionsButtons=void 0;var c=i(n(911));document.addEventListener("DOMContentLoaded",(function(){var e=document.createElement("link");e.rel="stylesheet",e.href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0",document.head.appendChild(e);var t=document.createElement("link");t.rel="stylesheet",t.href="https://cdn.jsdelivr.net/gh/shibotgit/repo/src/widget.css",document.head.appendChild(t)}));var l=document.createElement("span");l.className="material-symbols-outlined",l.id="send-button",l.textContent="send";var s=document.createElement("span");l.className="material-symbols-outlined",l.id="mood-menu",l.textContent="mood";var d=document.createElement("span");d.className="material-symbols-outlined",d.id="drop-menu",d.textContent="more_vert";var u=document.createElement("textarea");u.placeholder="–í–≤–µ–¥—ñ—Ç—å –≤–∞—à–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è";var m=document.createElement("span");m.className="close-btn material-symbols-outlined";var p=document.createElement("button");p.className="chatbot-toggler";var h=document.createElement("span");h.className="material-symbols-outlined",h.textContent="mode_comment";var v=document.createElement("span");v.className="material-symbols-outlined",v.textContent="close",p.appendChild(h),p.appendChild(v);var f=document.createElement("div");f.className="chatbot";var g=document.createElement("header"),b=document.createElement("h2");b.textContent="Welcome!";var y=document.createElement("span");y.className="close-btn material-symbols-outlined",y.textContent="close";var C=document.createElement("div");C.className="logo",C.innerHTML="To ShiBOT live chat with AI company.<br>We're always online and ready to chat!",g.appendChild(b),g.appendChild(y),g.appendChild(C);var E=document.createElement("ul");E.className="chatbox",E.id="chatbot-container";var k=document.createElement("span");k.className="material-symbols-outlined",k.textContent="smart_toy",document.createElement("p").innerHTML="Hi there! I am your friendly assistant.";var L=document.createElement("div");L.className="parent-container";var w=document.createElement("li");w.className="chat quick-reply";var x=document.createElement("div");x.className="chat-input";var N=document.createElement("div");N.className="menu",N.id="menu";var T=document.createElement("ul");T.className="menu-ul";var q=document.createElement("li");q.className="menu-active",q.id="report-issue",q.innerHTML="Report an issue";var B=document.createElement("div");B.className="emoji-menu menu",B.id="emoji-menu";var S=document.createElement("div");S.className="emoji-div";var j,H=document.createElement("ul");H.className="emoji-list",["üòÄ","üòç","üéâ"].forEach((function(e){var t=document.createElement("li");t.className="menu-active",t.setAttribute("data-emoji",e),t.addEventListener("click",(function(){var e=t.getAttribute("data-emoji");e&&(u.value+=e,_())})),H.appendChild(t)})),B.appendChild(S),S.appendChild(H),f.appendChild(B),f.appendChild(N),N.appendChild(T),T.appendChild(q),x.appendChild(l),x.appendChild(s),x.appendChild(d),f.appendChild(x),x.appendChild(u),L.appendChild(w),E.appendChild(L),f.appendChild(g),f.appendChild(E),document.body.appendChild(p),document.body.appendChild(f);var O=u.scrollHeight;u&&u.addEventListener("input",(function(){u.style.height="".concat(O,"px"),u.style.height="".concat(u.scrollHeight,"px")}));var M=function(e,t){var n=document.createElement("li");n.classList.add("chat",t);var o="outgoing"===t?"<p></p>":'<span class="material-symbols-outlined">smart_toy</span><p></p>';n.innerHTML=o;var a=n.querySelector("p");if(a)a.textContent=e;else{var r=document.createElement("p");r.textContent=e,n.appendChild(r)}return n};function _(){B.classList.toggle("visible")}document.addEventListener("DOMContentLoaded",(function(){B.addEventListener("click",(function(){B.classList.toggle("visible")}))})),B.addEventListener("click",_),document.querySelectorAll(".menu-active[data-emoji]").forEach((function(e){e.addEventListener("click",(function(){var t=e.getAttribute("data-emoji");t&&(u.value+=t,_())}))})),document.addEventListener("DOMContentLoaded",(function(){N.addEventListener("click",(function(){alert("Report an issue clicked")}))})),u&&u.addEventListener("keydown",(function(e){"Enter"===e.key&&!e.shiftKey&&window.innerWidth>800&&(e.preventDefault(),z())}));var R=!1;function z(){return a(this,void 0,void 0,(function(){var e,t,n,o,a,i,l;return r(this,(function(r){switch(r.label){case 0:j=u.value,u.value="",u.style.height="".concat(O,"px"),E.appendChild(M(j,"outgoing")),E.scrollTo(0,E.scrollHeight),e=M("Thinking...","incoming"),t=e.querySelector("p"),E.appendChild(e),E.scrollTo(0,E.scrollHeight),r.label=1;case 1:return r.trys.push([1,4,,5]),[4,(0,c.default)("/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({question:j})})];case 2:return[4,r.sent().json()];case 3:return n=r.sent(),t.textContent=n.response,o=M(n.response,"incoming"),E.replaceChild(o,e),E.scrollTo(0,E.scrollHeight),[3,5];case 4:return a=r.sent(),console.error("Error:",a),i=M("Error occurred. Please try again.","incoming"),E.replaceChild(i,e),E.scrollTo(0,E.scrollHeight),[3,5];case 5:return R||((l=document.createElement("div")).classList.add("rating-container"),E.appendChild(l),setTimeout((function(){var e=M("How would you rate this conversation? Choose emoji:","incoming");e.classList.add("rating-message");var t=document.createElement("div");t.classList.add("emoji-buttons"),["üòÉ","üòê","üòû"].forEach((function(e){var n=document.createElement("button");n.classList.add("emoji-button"),n.innerText=e,n.addEventListener("click",(function(){var t=M("–í–∏ –æ—Ü—ñ–Ω–∏–ª–∏ —Ä–æ–∑–º–æ–≤—É —è–∫: ".concat(e),"incoming");E.appendChild(t),E.scrollTo(0,E.scrollHeight)})),t.appendChild(n)})),e.appendChild(t),l.appendChild(e),E.scrollTo(0,E.scrollHeight),R=!0}),3e3)),[2]}}))}))}function A(e,t){t.text&&t.text.forEach((function(e,n){var o="quick-reply-button-".concat(n),a=document.createElement("button");a.className="quick-reply-button",a.textContent=e,a.id=o,a.addEventListener("click",(function(){var e,a,r=null===(e=t.buttonMessages)||void 0===e?void 0:e[o],i=void 0!==r?r:"Button ".concat(n+1," clicked");(a=M(i,"incoming")).querySelector("p"),E.appendChild(a),E.scrollTo(0,E.scrollHeight)})),w.appendChild(a)})),e.appendChild(w);for(var n=document.querySelectorAll(".quick-reply-button"),o=0;o<n.length-1;o++){var a=n[o];t.quickReplyButtonBackground&&(a.style.background=t.quickReplyButtonBackground),t.quickReplyButtonBorderBottom&&(a.style.borderBottom=t.quickReplyButtonBorderBottom)}var r=n[n.length-1];t.quickReplyButtonBackground&&(r.style.background=t.quickReplyButtonBackground),r.style.borderBottom="none"}function D(e,t){Object.assign(e.style,t)}function P(e,t){var n=document.querySelector(e);n&&D(n,t)}function I(e){var t,n,o,a;P(".chatbot",{background:e.chatbotBackground}),P(".chatbot-toggler",{background:e.chatbotTogglerBackground,right:null===(t=e.chatbotTogglerPosition)||void 0===t?void 0:t.right,bottom:null===(n=e.chatbotTogglerPosition)||void 0===n?void 0:n.bottom,height:null===(o=e.chatbotTogglerSize)||void 0===o?void 0:o.height,width:null===(a=e.chatbotTogglerSize)||void 0===a?void 0:a.width});var r=document.querySelector("h2");r&&e.headerMessage&&(r.innerHTML=e.headerMessage);var i=document.querySelector(".logo");i&&e.logoContent&&(i.innerHTML=e.logoContent)}function J(){var e=document.querySelector("script[data-custom-options]"),t=(null==e?void 0:e.getAttribute("data-custom-options"))||"{}",n=JSON.parse(t);I(o(o({},{}),n))}function W(){var e=document.querySelector("script[data-custom-options]"),t=(null==e?void 0:e.getAttribute("data-custom-options"))||"{}",n=JSON.parse(t),a=o(o({},{}),n),r=document.querySelector(".chat.quick-reply");r&&A(r,a)}l.addEventListener("click",z),p.addEventListener("click",(function(){return document.body.classList.toggle("show-chatbot")})),m.addEventListener("click",(function(){return document.body.classList.remove("show-chatbot")})),t.updateOptionsButtons=A,t.setStyle=D,t.customizeElement=P,t.customizeChatbot=I,t.customizeChatbotInit=J,t.customizeOptionsButtons=W,document.addEventListener("DOMContentLoaded",(function(){J(),W()}))},911:(e,t)=>{var n=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==n)return n;throw new Error("unable to locate global object")}();e.exports=t=n.fetch,n.fetch&&(t.default=n.fetch.bind(n)),t.Headers=n.Headers,t.Request=n.Request,t.Response=n.Response}},t={};!function n(o){var a=t[o];if(void 0!==a)return a.exports;var r=t[o]={exports:{}};return e[o].call(r.exports,r,r.exports,n),r.exports}(891)})();